<!DOCTYPE html>
<html lang="he" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>××œ×•× ×™× 8 - ××¡×š ×œ×•×‘×™</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        dark: '#0f172a',
                        cardBg: 'rgba(15, 23, 42, 0.85)',
                        cardBorder: 'rgba(255, 255, 255, 0.1)',
                        accent: '#38bdf8',
                        gold: '#fbbf24',
                    },
                    fontFamily: {
                        heebo: ['Heebo', 'sans-serif'],
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-out forwards',
                        'marquee': 'marquee 40s linear infinite',
                        'pulse-slow': 'pulse 3s infinite',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        },
                        marquee: {
                            '0%': { transform: 'translateX(0)' },
                            '100%': { transform: 'translateX(50%)' }
                        }
                    }
                }
            }
        }
    </script>
    <link rel="stylesheet" href="styles/main.css">
</head>

<body class="flex flex-col p-2 lg:p-4 min-h-screen lg:h-screen lg:overflow-hidden">

    <!-- App frame -->
    <div class="info-panel rounded-xl lg:rounded-3xl overflow-hidden flex flex-col w-full h-full shadow-3xl">

        <!-- TOP HEADER -->
        <header
            class="flex flex-col lg:flex-row items-center justify-between py-2 px-4 lg:py-3 lg:px-8 border-b border-white/10 bg-dark/50 z-20 shrink-0 relative">

            <!-- RIGHT: Weather Widget -->
            <div class="order-2 lg:order-1 flex items-center justify-start w-full lg:w-auto pt-2 lg:pt-0">
                <div id="weather-widget"
                    class="flex items-center gap-2 lg:gap-4 bg-white/5 px-4 lg:px-6 py-2 lg:py-3 rounded-2xl border border-white/10 cursor-pointer hover:bg-white/10 transition"
                    title="×¤×ª×— ×ª×—×–×™×ª ×‘-AccuWeather">
                    <!-- 3-day forecast injected by JS -->
                    <div class="flex items-center gap-4 lg:gap-6">
                        <div id="weather-day-0" class="flex flex-col items-center">
                            <span class="text-sm lg:text-lg text-blue-200 font-medium">×”×™×•×</span>
                            <span class="weather-icon text-3xl lg:text-5xl my-1">â˜€ï¸</span>
                            <div class="flex items-center gap-1 text-lg lg:text-2xl font-bold">
                                <span class="weather-high text-white">--Â°</span>
                                <span class="text-white/30">|</span>
                                <span class="weather-low text-blue-300">--Â°</span>
                            </div>
                        </div>
                        <div class="w-px h-12 lg:h-16 bg-white/10"></div>
                        <div id="weather-day-1" class="flex flex-col items-center">
                            <span class="text-sm lg:text-lg text-blue-200 font-medium">××—×¨</span>
                            <span class="weather-icon text-3xl lg:text-5xl my-1">â˜€ï¸</span>
                            <div class="flex items-center gap-1 text-lg lg:text-2xl font-bold">
                                <span class="weather-high text-white">--Â°</span>
                                <span class="text-white/30">|</span>
                                <span class="weather-low text-blue-300">--Â°</span>
                            </div>
                        </div>
                        <div class="w-px h-12 lg:h-16 bg-white/10"></div>
                        <div id="weather-day-2" class="flex flex-col items-center">
                            <span class="text-sm lg:text-lg text-blue-200 font-medium">--</span>
                            <span class="weather-icon text-3xl lg:text-5xl my-1">â˜€ï¸</span>
                            <div class="flex items-center gap-1 text-lg lg:text-2xl font-bold">
                                <span class="weather-high text-white">--Â°</span>
                                <span class="text-white/30">|</span>
                                <span class="weather-low text-blue-300">--Â°</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- CENTER: Title -->
            <div class="order-1 lg:order-2 text-center flex-1">
                <h1
                    class="text-4xl lg:text-6xl font-black tracking-tight text-white header-glow drop-shadow-xl whitespace-nowrap">
                    ×‘×¨×•×›×™× ×”×‘××™× ×œ××œ×•× ×™× 8
                </h1>
            </div>

            <!-- LEFT: Dynamic Event Slot -->
            <div class="order-3 lg:order-3 flex items-center justify-end w-full lg:w-1/4 pt-2 lg:pt-0">
                <div id="event-slot"></div>
            </div>
        </header>

        <!-- MAIN CONTENT -->
        <main
            class="flex-1 flex flex-col lg:grid lg:grid-cols-12 gap-4 lg:gap-6 p-4 lg:p-6 lg:pr-10 overflow-y-auto lg:overflow-hidden scrollbar-hide">

            <!-- RIGHT SIDEBAR -->
            <aside
                class="w-full lg:col-span-3 flex flex-col gap-4 lg:gap-5 lg:h-full shrink-0 lg:grid lg:grid-rows-[auto,0.4fr,0.6fr]">

                <!-- 1. CLOCK & DATE -->
                <div
                    class="info-panel rounded-3xl p-5 lg:p-6 flex flex-col items-center justify-center bg-gradient-to-br from-blue-900/50 to-slate-900/50">
                    <div id="clock-time"
                        class="text-7xl lg:text-8xl xl:text-9xl font-black text-white tabular-nums leading-none drop-shadow-lg tracking-tight">
                        --:--
                    </div>
                    <div id="clock-day" class="text-2xl lg:text-3xl font-bold text-accent mt-3" dir="rtl">
                        <span id="clock-day-text">---</span>
                    </div>
                    <div class="h-px w-24 bg-white/20 my-3"></div>
                    <div class="flex flex-col items-center gap-1">
                        <div id="clock-date" class="text-xl lg:text-2xl text-white/80 font-medium">
                            --.--.----
                        </div>
                        <div id="clock-hebrew-date" class="text-xl lg:text-2xl text-gold font-bold">--</div>
                    </div>
                </div>

                <!-- 2. USEFUL INFO LIST -->
                <div class="info-panel rounded-3xl flex flex-col overflow-hidden relative text-center min-h-0">
                    <div
                        class="bg-blue-900/30 p-3 lg:p-4 border-b border-white/10 flex items-center justify-center shrink-0">
                        <h2 class="text-3xl lg:text-4xl font-black text-white flex items-center gap-3">
                            <span class="text-3xl lg:text-5xl">â„¹ï¸</span> ××™×“×¢ ×œ×“×™×™×¨
                        </h2>
                    </div>
                    <div class="useful-info-scroll-container flex-1 min-h-0 p-3 lg:p-4">
                        <div id="useful-info-list" class="useful-info-scroll-track">
                            <!-- Injected by JS -->
                        </div>
                    </div>
                </div>

                <!-- 3. SHABBAT WIDGET -->
                <div id="shabbat-widget"
                    class="info-panel rounded-3xl p-4 lg:p-5 relative overflow-hidden bg-gradient-to-b from-slate-900 to-indigo-950/50 cursor-pointer hover:opacity-90 transition hover:shadow-lg hover:border-gold/30 text-center min-h-0"
                    title="×¤×ª×— ×–×× ×™ ×©×‘×ª ×‘-Hebcal">
                    <div class="relative z-10">
                        <div class="flex items-center justify-center gap-3 mb-3">
                            <span class="text-4xl lg:text-5xl">ğŸ•¯ï¸</span>
                            <h3 id="shabbat-title" class="text-2xl lg:text-3xl font-black text-gold">×–×× ×™ ×”×©×‘×ª</h3>
                        </div>
                        <div
                            class="text-xl lg:text-2xl text-blue-200 mb-3 border-b border-white/10 pb-2 font-semibold leading-snug">
                            <span id="shabbat-date-display">--.--.--</span>
                        </div>
                        <div class="grid grid-cols-2 gap-4">
                            <div class="bg-black/30 p-3 rounded-2xl text-center border border-white/10 shadow-inner">
                                <span class="block text-2xl lg:text-3xl text-blue-300 mb-2 font-bold">×›× ×™×¡×”</span>
                                <span id="shabbat-in"
                                    class="text-3xl lg:text-4xl font-black text-white tabular-nums tracking-wide">--:--</span>
                            </div>
                            <div class="bg-black/30 p-3 rounded-2xl text-center border border-white/10 shadow-inner">
                                <span class="block text-2xl lg:text-3xl text-blue-300 mb-2 font-bold">×™×¦×™××”</span>
                                <span id="shabbat-out"
                                    class="text-3xl lg:text-4xl font-black text-white tabular-nums tracking-wide">--:--</span>
                            </div>
                        </div>
                    </div>
                </div>

            </aside>

            <!-- CENTER/MAIN COLUMN -->
            <section class="w-full lg:col-span-9 flex flex-col h-[500px] lg:h-full relative shrink-0">
                <div
                    class="info-panel rounded-3xl flex-1 flex flex-col overflow-hidden relative border-t-4 border-t-accent/50">

                    <!-- Notice Board Header -->
                    <div
                        class="bg-white/5 p-4 lg:p-6 border-b border-white/10 flex flex-col lg:flex-row items-center justify-between z-10 gap-3 lg:gap-0">
                        <h2 class="text-3xl lg:text-5xl font-black text-white flex items-center gap-4 drop-shadow-md">
                            <span class="text-accent text-4xl lg:text-6xl">ğŸ“£</span> ×œ×•×— ××•×“×¢×•×ª
                        </h2>

                        <div class="flex items-center gap-2 lg:gap-4 w-full lg:w-auto justify-between lg:justify-end">
                            <span id="notice-counter"
                                class="bg-white/10 px-4 py-2 rounded-full text-xl font-bold text-blue-100 hidden sm:inline-block">×˜×•×¢×Ÿ...</span>
                            <!-- Admin Add Button -->
                            <button id="btn-open-admin"
                                class="w-12 h-12 rounded-full bg-white/10 hover:bg-accent/20 flex items-center justify-center text-white/50 hover:text-white transition border border-white/5">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M12 4v16m8-8H4"></path>
                                </svg>
                            </button>
                        </div>
                    </div>

                    <!-- Notices Container -->
                    <div id="notices-area"
                        class="flex-1 relative p-8 lg:p-12 flex flex-col justify-center items-center">
                        <div id="empty-state" class="text-center opacity-30">
                            <div class="text-9xl mb-4">ğŸ“­</div>
                            <div class="text-4xl font-light">××™×Ÿ ×”×•×“×¢×•×ª ×—×“×©×•×ª</div>
                        </div>
                    </div>

                    <!-- Progress Bar -->
                    <div class="h-1.5 bg-white/5 w-full absolute bottom-0 left-0">
                        <div id="notice-progress"
                            class="h-full bg-accent w-0 transition-all duration-100 ease-linear shadow-[0_0_10px_rgba(56,189,248,0.5)]">
                        </div>
                    </div>
                </div>
            </section>

        </main>

        <!-- FOOTER: News Ticker -->
        <footer
            class="h-24 lg:h-32 bg-slate-900 border-t border-white/10 flex items-center relative z-30 shadow-3xl shrink-0">
            <a href="https://www.ynet.co.il/news/category/184" target="_blank" rel="noopener noreferrer"
                class="bg-red-600 h-full px-6 lg:px-10 flex items-center justify-center gap-2 z-20 shadow-[4px_0_15px_rgba(0,0,0,0.6)] hover:bg-red-700 transition-colors">
                <span class="font-black text-white text-3xl lg:text-5xl tracking-wider">××‘×–×§×™×</span>
                <span class="w-3 h-3 lg:w-4 lg:h-4 bg-white rounded-full animate-pulse"></span>
            </a>

            <div class="marquee-container flex-1 h-full flex items-center bg-slate-900/95">
                <div id="ticker-track" class="marquee-content flex items-center" style="direction: ltr;">
                    <span class="text-white/50 mx-4">××¢×¨×›×ª ×”×—×“×©×•×ª ××ª×¢×“×›× ×ª...</span>
                </div>
            </div>
        </footer>

    </div>

    <!-- ADMIN MODAL -->
    <div id="admin-modal"
        class="fixed inset-0 bg-black/80 backdrop-blur-sm z-50 hidden flex items-center justify-center p-4">
        <div
            class="bg-slate-900 border border-white/20 w-full max-w-lg rounded-3xl shadow-3xl flex flex-col max-h-[90vh]">
            <div class="p-5 border-b border-white/10 flex justify-between items-center bg-white/5 rounded-t-3xl">
                <h3 class="text-xl font-bold">×”×•×¡×¤×ª ×”×•×“×¢×”</h3>
                <button id="btn-close-admin-top" class="text-white/50 hover:text-white">âœ•</button>
            </div>

            <div class="p-6 space-y-4 overflow-y-auto">
                <div>
                    <label class="block text-sm text-blue-200 mb-1">×›×•×ª×¨×ª</label>
                    <input type="text" id="input-title" class="w-full px-4 py-3 rounded-lg"
                        placeholder="×›×•×ª×¨×ª ×”×”×•×“×¢×”..." dir="rtl">
                </div>
                <div>
                    <label class="block text-sm text-blue-200 mb-1">×ª×•×›×Ÿ</label>
                    <textarea id="input-content" rows="4" class="w-full px-4 py-3 rounded-lg resize-none"
                        placeholder="×ª×•×›×Ÿ ×”×”×•×“×¢×”..." dir="rtl"></textarea>
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm text-blue-200 mb-1">×¡×•×’</label>
                        <select id="input-type" class="w-full px-4 py-3 rounded-lg bg-slate-800">
                            <option value="general">ğŸ“¢ ×›×œ×œ×™</option>
                            <option value="important">âš ï¸ ×—×©×•×‘ ×××•×“</option>
                            <option value="event">ğŸ‰ ××™×¨×•×¢</option>
                            <option value="welcome">ğŸ‘‹ ×‘×¨×•×›×™× ×”×‘××™×</option>
                            <option value="maintenance">ğŸ”§ ×ª×—×–×•×§×”</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm text-blue-200 mb-1">×ª××¨×™×š</label>
                        <input type="date" id="input-date" class="w-full px-4 py-3 rounded-lg bg-slate-800 text-right">
                    </div>
                </div>

                <div class="flex items-center gap-2 p-3 bg-white/5 rounded-lg border border-white/5">
                    <input type="checkbox" id="input-urgent" class="w-5 h-5 accent-red-500">
                    <label for="input-urgent" class="text-sm cursor-pointer select-none">×¡××Ÿ ×›×“×—×•×£ (××¡×’×¨×ª ××“×•××”
                        ××”×‘×”×‘×ª)</label>
                </div>
            </div>

            <div class="p-5 border-t border-white/10 bg-white/5 rounded-b-3xl flex justify-between">
                <button id="btn-clear-inputs" class="text-white/50 hover:text-white text-sm">× ×§×” ×˜×•×¤×¡</button>
                <div class="flex gap-3">
                    <button id="btn-close-admin-bottom" class="px-4 py-2 rounded-lg hover:bg-white/10">×‘×™×˜×•×œ</button>
                    <button id="btn-save-notice"
                        class="px-6 py-2 bg-accent hover:bg-sky-400 text-slate-900 font-bold rounded-lg shadow-lg">×¤×¨×¡×</button>
                </div>
            </div>
        </div>
    </div>

    <!-- SCRIPTS -->
    <script src="js/weather.js" defer></script>
    <script src="js/config.js" defer></script>
    <script src="js/utils.js" defer></script>
    <script src="js/time.js" defer></script>
    <script src="js/hebrewDate.js" defer></script>
    <script src="js/shabbat.js" defer></script>
    <script src="js/newsTicker.js" defer></script>
    <script src="js/usefulInfo.js" defer></script>
    <script src="js/wiki.js" defer></script>
    <script src="js/notices.js" defer></script>
    <script src="js/events.js" defer></script>
    <script src="js/app.js" defer></script>
</body>

</html>